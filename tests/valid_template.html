<!DOCTYPE html>
<html>
<head>
    <title>%pageTitle()%</title>
    <link rel="stylesheet" href="%main-css%"/>
</head>
<body>
    <wr-->This is a valid WebRelease2 template</wr-->
    
    <header>
        <h1>%siteName%</h1>
        <wr-if condition="isNotNull(headerImage)">
            <img src="%headerImage%" alt="Header"/>
        </wr-if>
    </header>

    <main>
        <wr-switch value="pageType">
            <wr-case value="news">
                <wr-for list="articles" variable="article" count="i">
                    <article>
                        <h2>%article.title%</h2>
                        <time>%formatDate(article.date, "yyyy/MM/dd")%</time>
                        <p>%article.summary%</p>
                    </article>
                    <wr-break condition="i >= 5"/>
                </wr-for>
            </wr-case>
            
            <wr-case value="product">
                <wr-variable name="expensiveItems"/>
                <wr-for list="products" variable="product">
                    <wr-if condition="number(product.price) > 10000">
                        <wr-append name="expensiveItems" value="product"/>
                    </wr-if>
                </wr-for>

                <h2>Premium Products</h2>
                <wr-for list="expensiveItems" variable="item">
                    <div class="product">
                        <h3>%item.name%</h3>
                        <p>Price: %item.price%</p>
                    </div>
                </wr-for>
            </wr-case>
            
            <wr-default>
                <h2>%pageTitle%</h2>
                <div class="content">%content%</div>
            </wr-default>
        </wr-switch>
    </main>

    <wr-error condition="isNull(content) && pageType != \"news\"">
        Page content is missing.
    </wr-error>
</body>
</html>